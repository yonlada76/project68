<!-- views/equipment.ejs -->
<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8">
  <title><%= typeof title !== 'undefined' ? title : '‡∏™‡∏ï‡πá‡∏≠‡∏Å‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏Å‡∏µ‡∏¨‡∏≤' %></title>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@400;600&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#f8f9fa;
      --card:#ffffff;
      --ring:#e5e7eb;
      --ink:#0f172a;
    }
    *{box-sizing:border-box}
    body{font-family:'Prompt',sans-serif;background:var(--bg);color:var(--ink)}
    .wrap{max-width:1000px;margin:28px auto;padding:0 12px}
    .cardx{
      background:var(--card);
      border:1px solid #dee2e6;
      border-radius:12px;
      box-shadow:0 4px 12px rgba(0,0,0,.06);
      padding:20px;
    }
    .page-title{font-weight:700;margin-bottom:8px;text-align:center}
    .subtext{color:#6c757d;text-align:center;margin-bottom:20px;font-size:.9rem}

    .table thead th{
      background:#0d6efd;color:#fff;text-align:center;vertical-align:middle;border-color:#0d6efd;
    }
    .table td{vertical-align:middle;text-align:center}
    .table-hover tbody tr:hover{background:#f5f9ff}
    .table-bordered td,.table-bordered th{border-color:#e1e6ef}

    .status-available{color:#198754;font-weight:600}
    .status-unavailable{color:#dc3545;font-weight:600}

    .back-btn{display:inline-block;margin-top:15px;text-decoration:none}
  </style>
</head>
<body>
<div class="wrap">
  <div class="cardx">

    <!-- Header -->
    <h2 class="page-title">üìã ‡∏™‡∏ï‡πá‡∏≠‡∏Å‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏Å‡∏µ‡∏¨‡∏≤</h2>
    <div class="subtext">‡∏°‡∏∏‡∏°‡∏°‡∏≠‡∏á‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤ (‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô)</div>

    <!-- ‡∏ï‡∏≤‡∏£‡∏≤‡∏á -->
    <table class="table table-bordered table-striped table-hover align-middle">
      <thead>
        <tr>
          <th style="width:90px">‡∏•‡∏≥‡∏î‡∏±‡∏ö</th>
          <th class="text-start">‡∏ä‡∏∑‡πà‡∏≠‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå</th>
          <th style="width:160px">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠</th>
          <th style="width:160px">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th>
        </tr>
      </thead>
      <tbody>
        <% if (Array.isArray(inventory) && inventory.length > 0) { %>
          <% inventory.forEach((item, index) => { %>
            <tr>
              <td><%= index + 1 %></td>
              <td class="text-start"><%= item.item_name %></td>
              <td class="fw-semibold"><%= item.stock %></td>
              <td>
                <% if (item.active && Number(item.stock) > 0) { %>
                  <span class="status-available">‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</span>
                <% } else { %>
                  <span class="status-unavailable">‡πÑ‡∏°‡πà‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</span>
                <% } %>
              </td>
            </tr>
          <% }) %>
        <% } else { %>
          <tr>
            <td colspan="4" class="text-center text-muted">‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå</td>
          </tr>
        <% } %>
      </tbody>
      <% if (Array.isArray(inventory)) { %>
        <tfoot>
          <tr>
            <td colspan="4" class="text-end text-muted small">
              ‡∏£‡∏ß‡∏°‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£: <%= inventory.length %> ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£
            </td>
          </tr>
        </tfoot>
      <% } %>
    </table>

    <!-- ‡∏õ‡∏∏‡πà‡∏°‡∏Å‡∏•‡∏±‡∏ö -->
    <div class="text-center">
      <a href="/" class="btn btn-secondary back-btn">‚¨Ö ‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</a>
    </div>

  </div>
</div>
</body>
</html>
